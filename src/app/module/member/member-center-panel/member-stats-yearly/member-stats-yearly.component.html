<div class="panel">
  <h3>Yearly Stats</h3>
  <ng-container *ngIf="stats; else pageCharging">
    <ng-container *ngFor="let year of years">
      <h4 class="year">{{ year }}</h4>
      <table class="table">
        <thead>
        <tr>
          <th scope="col"></th>
          <th scope="col">Category</th>
          <th class="text-center" scope="col">Starts</th>
          <th class="text-center" scope="col">Wins</th>
          <th class="text-center" scope="col">Top 5</th>
          <th class="text-center" scope="col">Poles</th>
          <th class="text-center" scope="col">Avg Start</th>
          <th class="text-center" scope="col">Avg Finish</th>
          <th class="text-center" scope="col">Avg Inc</th>
          <th class="text-center" scope="col">Win Percentage</th>
          <th class="text-center" scope="col">Top 5 Percentage</th>
          <th class="text-center" scope="col">Pole Percentage</th>

        </tr>
        </thead>
        <tbody>
        <ng-container *ngFor="let stat of getYearStats(year)">
          <tr>
            <th class="text-center" scope="row">
              <isard-icon
                [width]="30"
                [height]="30"
                [path]="getIcon(stat.category_id)"
              >
              </isard-icon>
            </th>
            <td>{{ stat.category }}</td>
            <td class="text-center">{{ stat.starts }}</td>
            <td class="text-center">{{ stat.wins }}</td>
            <td class="text-center">{{ stat.top5 }}</td>
            <td class="text-center">{{ stat.poles }}</td>
            <td class="text-center">{{ stat.avg_start_position }}</td>
            <td class="text-center">{{ stat.avg_finish_position }}</td>
            <td class="text-center">{{ stat.avg_incidents }}</td>
            <td class="text-center">{{ stat.win_percentage }}%</td>
            <td class="text-center">{{ stat.top5_percentage }}%</td>
            <td class="text-center">{{ stat.poles_percentage }}%</td>
          </tr>
        </ng-container>
        </tbody>
      </table>
    </ng-container>
  </ng-container>
</div>
<ng-template #pageCharging>
  <isard-loading-screen></isard-loading-screen>
</ng-template>
